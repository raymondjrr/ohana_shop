<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <title>Item Dashboard</title>
    <style>
        .scrollable-table {
            max-height: 600px;
            overflow-y: auto;
        }
    </style>
</head>
<body>
    <div class="container mx-auto mt-5 col-6 font-monospace fw-bold">
        <div style="box-shadow: 4px 8px;" class="border border-black mt-1 p-1 rounded-3 d-flex justify-content-between align-middle">
            <h2 class="mt-2 ms-1" style="text-transform: capitalize;">Aloha, {{user.first_name}}!</h2>
            <div class="">
                <button style="box-shadow: 1px 2px;" class="btn border border-black"><a class="text-black" style="text-decoration: none;" href="/item/create">Add item</a></button>
                <button style="box-shadow: 1px 2px;" class="btn border border-black"><a class="text-black" style="text-decoration: none;" href="/logout">Logout</a></button>
                <img src="/static/img/hi_ohana_shop.jpg" style="width: 80px; height: auto;">
            </div>
        </div>
        <div class="border border-black mt-4 p-3 rounded-3 scrollable-table" style='box-shadow: 4px 10px'>
            <table class="table table-sm table-hover align-middle">
                <thead>
                    <tr>
                        <td>All items:</td>
                        <td>Posted by:</td>
                        <td class="ps-3">Actions:</td>
                    </tr>
                </thead>
                <tbody>
                    {% for item in all_items %}
                        <tr>
                            <td style="text-transform: capitalize;">{{item.item_name}}</td>
                            <td style="text-transform: capitalize;">{{item.creator.first_name}}</td>
                            <td>
                                <button style="box-shadow: 1px 2px;" class="btn border border-black m-1"><a style="text-decoration: none;" class="text-black" href="/item/{{item.id}}">View item</a>
                            {% if item.user_id == session['user_id'] %}
                                <button style="box-shadow: 1px 2px;" class="btn border border-black ms-2"><a style="text-decoration: none;" class="text-black" href="/item/{{item.id}}/edit">Edit</a></button>
                                <button style="box-shadow: 1px 2px;" class="btn border border-black"><a style="text-decoration: none;" class="text-black" href="/item/{{item.id}}/delete">Delete</a></button></td>
                            {% endif %}
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>


</body>
</html>